(this["webpackJsonpreact-auth-firebase"]=this["webpackJsonpreact-auth-firebase"]||[]).push([[0],{73:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(12),s=c.n(a),i=c(4),l="/signup",u="/login",o="/",j="/forgot-password",d="/update-profile",b=c(15),x=c.n(b),p=c(18),m=c(10),h=c(108),O=c(109),f=c(107),v=c(102),w=c(48),y=(c(65),w.a.initializeApp({apiKey:"AIzaSyB-J9rRd0g1qjdBISfp_Hk8c_rBgr0u5vY",authDomain:"react-project-structure.firebaseapp.com",projectId:"react-project-structure",storageBucket:"react-project-structure.appspot.com",messagingSenderId:"1024427648082",appId:"1:1024427648082:web:d39099e5bff918337e6b8b"})),g=y.auth(),N=c(2),k=r.a.createContext();function S(){return Object(n.useContext)(k)}var P=function(e){var t=e.children,c=Object(n.useState)(),r=Object(m.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(!1),l=Object(m.a)(i,2),u=l[0],o=l[1],j=Object(n.useState)(!1),d=Object(m.a)(j,2),b=d[0],x=d[1];Object(n.useEffect)((function(){return g.onAuthStateChanged((function(e){s(e),null!=e?(o(!0),x(!0)):(o(!1),x(!0))}))}),[]);var p={currentUser:a,signup:function(e,t){return g.createUserWithEmailAndPassword(e,t)},login:function(e,t){return g.signInWithEmailAndPassword(e,t)},logout:function(){return g.signOut()},resetPassword:function(e){return g.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)},isAuth:u,isAuthFinished:b};return Object(N.jsx)(k.Provider,{value:p,children:b?t:Object(N.jsx)(v.a,{})})},R=function(){var e=Object(i.g)(),t=Object(n.useRef)(),c=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useState)(""),s=Object(m.a)(a,2),l=s[0],j=s[1],d=Object(n.useState)(!1),b=Object(m.a)(d,2),v=b[0],w=b[1],y=S(),g=y.signup,k=y.currentUser,P=Object(n.useState)(!1),R=Object(m.a)(P,2),C=R[0],U=R[1],E=function(){var n=Object(p.a)(x.a.mark((function n(a){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),console.log(t.current.value),c.current.value===r.current.value){n.next=4;break}return n.abrupt("return",j("Passwords do not match"));case 4:return n.prev=4,j(""),n.next=8,g(t.current.value,c.current.value);case 8:w(!0),U(!0),e(o),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(4),j("Failed to create an account "),console.log(n.t0),U(!1);case 18:w(!1);case 19:case"end":return n.stop()}}),n,null,[[4,13]])})));return function(e){return n.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:" md:w-1/3 sm:2/3 m-auto",onSubmit:E,children:[Object(N.jsx)("p",{className:"text-4xl text-center",children:" Sign Up"}),Object(N.jsxs)("form",{className:"m-10",method:"post",children:[l&&Object(N.jsx)(O.a,{severity:"error",className:"text-center",children:l}),C&&Object(N.jsxs)(O.a,{className:"text-center",children:["Login success User = ",k.email]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:" E-Mail"}),Object(N.jsx)(h.a,{required:!0,inputRef:t,id:"email",variant:"outlined",type:"email",fullWidth:!0})]},"mail"),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:"Password"}),Object(N.jsx)(h.a,{required:!0,id:"password",inputRef:c,type:"password",variant:"outlined",fullWidth:!0})]},"password"),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:" Confirm Password"}),Object(N.jsx)(h.a,{required:!0,inputRef:r,type:"password",id:"password-confirm",variant:"outlined",fullWidth:!0})]},"password-confirm"),Object(N.jsx)("div",{className:"text-center my-5",children:Object(N.jsx)(f.a,{variant:"contained",type:"submit",disabled:v,style:{backgroundColor:"#04151f",color:"white"},children:Object(N.jsx)("p",{className:"text-xl m-2",children:" Sign Up"})})},"button")]}),Object(N.jsxs)("p",{className:"text-center text-xl",children:["Need an account ?"," ",Object(N.jsxs)(f.a,{onClick:function(){e(u)},children:[" ","Log In"," "]})]})]})},C=function(e){return{name:"Sign Up",path:l,element:Object(N.jsx)(i.b,{}),children:[{path:"/",element:e?Object(N.jsx)(i.a,{to:o}):Object(N.jsx)(R,{})}]}},U=function(){var e=Object(i.g)(),t=Object(n.useRef)(),c=Object(n.useRef)(),r=Object(n.useState)(""),a=Object(m.a)(r,2),s=a[0],u=a[1],d=Object(n.useState)(!1),b=Object(m.a)(d,2),v=b[0],w=b[1],y=S().login,g=Object(n.useState)(!1),k=Object(m.a)(g,2),P=k[0],R=k[1],C=function(){var n=Object(p.a)(x.a.mark((function n(r){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,u(""),n.next=5,y(t.current.value,c.current.value);case 5:w(!0),R(!0),e(o),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),u("Failed to login< "),console.log(n.t0),R(!1);case 15:w(!1);case 16:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:" md:w-1/3 sm:2/3 m-auto",onSubmit:C,children:[Object(N.jsx)("p",{className:"text-4xl text-center mt-10",children:" Log In"}),Object(N.jsxs)("form",{className:"m-10",method:"post",children:[s&&Object(N.jsx)(O.a,{severity:"error",className:"text-center",children:s}),P&&Object(N.jsx)(O.a,{className:"text-center",children:"Login success"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:" E-Mail"}),Object(N.jsx)(h.a,{required:!0,inputRef:t,id:"email",variant:"outlined",type:"email",fullWidth:!0})]},"mail"),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:"Password"}),Object(N.jsx)(h.a,{required:!0,id:"password",inputRef:c,type:"password",variant:"outlined",fullWidth:!0})]},"password"),Object(N.jsx)("div",{className:"text-center my-5",children:Object(N.jsx)(f.a,{variant:"contained",type:"submit",disabled:v,style:{backgroundColor:"#04151f",color:"white"},children:Object(N.jsx)("p",{className:"text-xl m-2",children:" Log In"})})},"button")]}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)(f.a,{type:"outlined",onClick:function(){e(j)},children:"Forgot password ?"})}),Object(N.jsxs)("p",{className:"text-center text-xl",children:["Need an account ?",Object(N.jsx)(f.a,{type:"outlined",onClick:function(){e(l)},children:"Sign Up"})]})]})},E=function(e){return{name:"Login",path:u,element:Object(N.jsx)(i.b,{}),children:[{path:"/",element:e?Object(N.jsx)(i.a,{to:o}):Object(N.jsx)(U,{})}]}},F=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"text-2xl text-center",children:"Not Found "})})},W=function(){var e=S(),t=e.currentUser,c=e.logout,r=Object(n.useState)(""),a=Object(m.a)(r,2),s=a[0],l=a[1],o=Object(i.g)();function j(){return(j=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(d);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(""),e.prev=1,e.next=4,c();case 4:o(u),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),l("Failed to log out");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(N.jsxs)("div",{className:"justify-center text-center  ",children:[s&&Object(N.jsx)(O.a,{severity:"error",className:"text-center",children:s}),Object(N.jsxs)("div",{className:"flex flex-row justify-center p-10 space-x-4",children:[Object(N.jsx)("strong",{children:"Email: "}),t&&Object(N.jsx)("p",{children:t.email})]}),Object(N.jsxs)("div",{className:"space-x-5",children:[Object(N.jsx)(f.a,{style:{backgroundColor:"#e63946",color:""},variant:"contained",onClick:function(){return j.apply(this,arguments)},children:"Update Profile"}),Object(N.jsx)(f.a,{style:{backgroundColor:"#04151f",color:"white"},variant:"contained",onClick:function(){return b.apply(this,arguments)},children:"Log Out"})]})," "]})},I=function(e){return{name:"Dashboard",path:o,element:Object(N.jsx)(i.b,{}),children:[{path:"/",element:e?Object(N.jsx)(W,{}):Object(N.jsx)(i.a,{to:u})}]}},L=function(){var e=Object(i.g)(),t=Object(n.useRef)(),c=Object(n.useState)(""),r=Object(m.a)(c,2),a=r[0],s=r[1],o=Object(n.useState)(!1),j=Object(m.a)(o,2),d=j[0],b=j[1],v=S().resetPassword,w=Object(n.useState)(!1),y=Object(m.a)(w,2),g=y[0],k=y[1],P=function(){var e=Object(p.a)(x.a.mark((function e(c){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,s(""),e.next=5,v(t.current.value);case 5:b(!0),k(!0),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),s("Failed to reset "),console.log(e.t0),k(!1);case 14:b(!1);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:" md:w-1/3 sm:2/3 m-auto",onSubmit:P,children:[Object(N.jsx)("p",{className:"text-4xl text-center mt-10",children:" Password Reset"}),Object(N.jsxs)("form",{className:"m-10",method:"post",children:[a&&Object(N.jsx)(O.a,{severity:"error",className:"text-center",children:a}),g&&Object(N.jsx)(O.a,{className:"text-center",children:"Password reset success. Please check your email for further instructions."}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:" E-Mail"}),Object(N.jsx)(h.a,{required:!0,inputRef:t,id:"email",variant:"outlined",type:"email",fullWidth:!0})]},"mail"),Object(N.jsx)("div",{className:"text-center my-5",children:Object(N.jsx)(f.a,{variant:"contained",type:"submit",disabled:d,style:{backgroundColor:"#04151f",color:"white"},children:Object(N.jsx)("p",{className:"text-l m-2",children:" Reset Password"})})},"button")]}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)(f.a,{type:"outlined",onClick:function(){e(u)},children:"Login"})}),Object(N.jsxs)("p",{className:"text-center text-xl",children:["Need an account ?",Object(N.jsx)(f.a,{type:"outlined",onClick:function(){e(l)},children:"Sign Up"})]})]})},A=function(e){return{name:"Forgot Password",path:j,element:Object(N.jsx)(i.b,{}),children:[{path:"/",element:e?Object(N.jsx)(i.a,{to:o}):Object(N.jsx)(L,{})}]}},q=function(){var e=Object(i.g)(),t=Object(n.useRef)(),c=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useState)(""),s=Object(m.a)(a,2),l=s[0],u=s[1],j=Object(n.useState)(!1),d=Object(m.a)(j,2),b=d[0],v=d[1],w=S(),y=w.currentUser,g=w.updateEmail,k=w.updatePassword,P=function(){var n=Object(p.a)(x.a.mark((function n(a){var s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),console.log(t.current.value),c.current.value===r.current.value){n.next=4;break}return n.abrupt("return",u("Passwords do not match"));case 4:s=[],v(!0),u(""),t.current.value!==y.email&&s.push(g(t.current.value)),c.current.value&&s.push(k(c.current.value)),Promise.all(s).then((function(){e(o)})).catch((function(){u("Failed to update account")})).finally((function(){v(!1)}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:" md:w-1/3 sm:2/3 m-auto",onSubmit:P,children:[Object(N.jsx)("p",{className:"text-4xl text-center",children:"Update Profile"}),Object(N.jsxs)("form",{className:"m-10",method:"post",children:[l&&Object(N.jsx)(O.a,{severity:"error",className:"text-center",children:l}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:" E-Mail"}),Object(N.jsx)(h.a,{required:!0,defaultValue:y.email,inputRef:t,id:"email",variant:"outlined",type:"email",fullWidth:!0})]},"mail"),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:"Password"}),Object(N.jsx)(h.a,{placeholder:"Leave blank to keep the same",id:"password",inputRef:c,type:"password",variant:"outlined",fullWidth:!0})]},"password"),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{className:"text-xl my-3",children:" Confirm Password"}),Object(N.jsx)(h.a,{placeholder:"Leave blank to keep the same",inputRef:r,type:"password",id:"password-confirm",variant:"outlined",fullWidth:!0})]},"password-confirm"),Object(N.jsx)("div",{className:"text-center my-5",children:Object(N.jsx)(f.a,{variant:"contained",type:"submit",disabled:b,style:{backgroundColor:"#04151f",color:"white"},children:Object(N.jsx)("p",{className:"text-xl m-2",children:" Update"})})},"button")]}),Object(N.jsx)("p",{className:"text-center text-xl",children:Object(N.jsx)(f.a,{onClick:function(){e(o)},children:"Cancel"})})]})},D=function(e){return{name:"Update Profile",path:d,element:Object(N.jsx)(i.b,{}),children:[{path:"/",element:e?Object(N.jsx)(q,{}):Object(N.jsx)(i.a,{to:u})}]}};var B=function(e){return[C(e),E(e),I(e),A(e),D(e),{path:"*",element:Object(N.jsx)(F,{})}]},M=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"h-10 py-10 bg-green-700 text-center text-2xl",children:"Firebase Auth "}),Object(N.jsx)(i.b,{})]})};var J=function(e){return[{path:"/",element:Object(N.jsx)(M,{}),children:B(e)}]};var z=function(){var e=S().isAuth,t=Object(i.i)(J(e));return Object(N.jsx)(N.Fragment,{children:t})},_=(c(73),c(42));s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(P,{children:Object(N.jsx)(_.a,{children:Object(N.jsx)(z,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.5cd9c9d3.chunk.js.map